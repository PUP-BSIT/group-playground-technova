<div class="app-container">
  <!-- Sidebar -->
  <aside class="sidebar">
    <!-- Logo -->
    <div class="logo-section">
      <div class="logo-image">
        <img src="assets/logo-white.png" alt="CEFRS Logo" />
      </div>
      <div class="logo-text">CEFRS</div>
    </div>

    <!-- Navigation -->
    <nav class="nav-menu">
      @for (item of navItems; track item.id) {
        <button 
          [class.active]="currentView === item.id"
          (click)="setCurrentView(item.id)"
          class="nav-item">
          @if (item.id === 'dashboard') {
            <img [src]="item.icon" [alt]="item.label + ' Icon'" class="icon" />
          } @else {
            <img [src]="item.icon" [alt]="item.label + ' Icon'" class="icon-2" />
          }
          {{ item.label }}
        </button>
      }
    </nav>

    <!-- User Profile -->
    <div class="user-profile">
      <div class="user-details">
        @if (user) {
          <div class="user-info">
            <div class="user-name">{{ user.name }}</div>
            <div class="user-email">{{ user.email }}</div>
          </div>
        } @else {
          <div class="user-info">
            <div class="user-name">Loading...</div>
            <div class="user-email">Please wait...</div>
          </div>
        }
      </div>
      <button class="logout-btn" (click)="logout()" title="Logout">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4M16 17l5-5-5-5M21 12H9"/>
        </svg>
      </button>
    </div>
  </aside>

  <!-- Main Content -->
  <main class="main-content">
    @if (currentView === 'settings') {
      <router-outlet></router-outlet>
    }

    @if (currentView === 'dashboard') {
      <app-dashboard-view></app-dashboard-view>
    }
    @if (currentView === 'manage-request') {
      <app-manage-request></app-manage-request>
    }

    @if (currentView === 'calendar') {
      <app-calendar-view></app-calendar-view>
    }

    @if (currentView === 'facilities') {
      <app-facilities></app-facilities>
    }
    @if (currentView === 'equipment') {
      <app-equipment></app-equipment>
    }
    @if (currentView === 'report-logs') {
      <app-report-logs></app-report-logs>
    }
  </main>
</div>