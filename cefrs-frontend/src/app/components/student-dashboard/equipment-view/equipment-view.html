<div class="page-header">
  <h1>Equipments Catalog</h1>
  <p class="page-subtitle">Browse and request campus equipment</p>
</div>

<div class="search-controls">
  <input type="text" placeholder="Search Equipment" [(ngModel)]="searchQuery" class="search-input">
  <select [(ngModel)]="selectedCategory" class="filter-select">
    <option value="All Categories">All Categories</option>
    <option value="AUDIO">Audio</option>
    <option value="VIDEO">Video</option>
    <option value="COMPUTER">Computer</option>
    <option value="PROJECTOR">Projector</option>
    <option value="MICROPHONE">Microphone</option>
    <option value="SPEAKER">Speaker</option>
    <option value="OTHER">Other</option>
  </select>
</div>

@if (isLoadingEquipment) {
  <div class="loading-message">Loading equipment...</div>
}

<div class="equipment-grid">
  @for (item of filteredEquipment; track item.id) {
    <div class="equipment-card">
      <div class="equipment-image">
        <img [src]="item.imageUrl" [alt]="item.name">
        <span class="category-badge">{{ item.category }}</span>
      </div>
      <div class="equipment-content">
        <h3 class="equipment-name">{{ item.name }}</h3>
        <p class="equipment-description">{{ item.description }}</p>
        <div class="equipment-availability">
          <span>Available: {{ item.quantityAvailable }}/{{ item.quantityTotal }}</span>
          <span class="availability-badge" [ngClass]="getStatusClass(item.status)">{{ item.status }}</span>
        </div>
        <button class="request-btn" [disabled]="item.quantityAvailable === 0">
          @if (item.quantityAvailable === 0) { Out of Stock } @else { Request Equipment }
        </button>
      </div>
    </div>
  } @empty {
    <div class="no-data-message">No equipment matching your criteria.</div>
  }
</div>