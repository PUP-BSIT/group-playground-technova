<div class="reservation-request-container">
  <div class="header">
    <h2>Request Facility Reservation</h2>
    <p>Fill out the form below to request a facility reservation</p>
  </div>

  <div class="form-container">
    <form (ngSubmit)="onSubmit()" #reservationForm="ngForm">
      <!-- Facility Selection -->
      <div class="form-group">
        <label for="facility">Select Facility *</label>
        <select
          id="facility"
          name="facility"
          [(ngModel)]="selectedFacilityId"
          class="form-control"
          required>
          <option [value]="null">-- Select a facility --</option>
          <option *ngFor="let facility of facilities" [value]="facility.id">
            {{ facility.name }} ({{ facility.type }}) - Capacity: {{ facility.capacity }}
          </option>
        </select>
      </div>

      <!-- Date Selection -->
      <div class="form-group">
        <label for="date">Reservation Date *</label>
        <input
          type="date"
          id="date"
          name="date"
          [(ngModel)]="reservationDate"
          [min]="getMinDate()"
          class="form-control"
          required>
      </div>

      <!-- Time Selection -->
      <div class="form-row">
        <div class="form-group">
          <label for="startTime">Start Time *</label>
          <input
            type="time"
            id="startTime"
            name="startTime"
            [(ngModel)]="startTime"
            class="form-control"
            required>
        </div>

        <div class="form-group">
          <label for="endTime">End Time *</label>
          <input
            type="time"
            id="endTime"
            name="endTime"
            [(ngModel)]="endTime"
            class="form-control"
            required>
        </div>
      </div>

      <!-- Purpose -->
      <div class="form-group">
        <label for="purpose">Purpose *</label>
        <textarea
          id="purpose"
          name="purpose"
          [(ngModel)]="purpose"
          rows="4"
          class="form-control"
          placeholder="Describe the purpose of your reservation..."
          required></textarea>
      </div>

      <!-- Error Message -->
      <div *ngIf="error" class="alert alert-error">
        {{ error }}
      </div>

      <!-- Success Message -->
      <div *ngIf="success" class="alert alert-success">
        {{ success }}
      </div>

      <!-- Submit Button -->
      <div class="form-actions">
        <button
          type="submit"
          class="btn btn-primary"
          [disabled]="loading || !reservationForm.valid">
          <span *ngIf="loading">Submitting...</span>
          <span *ngIf="!loading">Submit Request</span>
        </button>
        <button
          type="button"
          class="btn btn-secondary"
          (click)="goBack()">
          Cancel
        </button>
      </div>
    </form>
  </div>
</div>

