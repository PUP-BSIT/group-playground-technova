<div class="my-reservations-container">
  <div class="header">
    <h2>My Reservations</h2>
    <button class="btn btn-primary" (click)="navigateToRequest()">
      + New Reservation
    </button>
  </div>

  <!-- Filters -->
  <div class="filters">
    <input
      type="text"
      placeholder="Search reservations..."
      [(ngModel)]="searchQuery"
      class="search-input">
    <select [(ngModel)]="selectedStatus" class="status-filter">
      <option value="All">All Status</option>
      <option value="PENDING">Pending</option>
      <option value="APPROVED">Approved</option>
      <option value="REJECTED">Rejected</option>
      <option value="CANCELLED">Cancelled</option>
      <option value="COMPLETED">Completed</option>
    </select>
  </div>

  <!-- Loading State -->
  <div *ngIf="loading" class="loading">
    Loading reservations...
  </div>

  <!-- Error State -->
  <div *ngIf="error" class="error">
    {{ error }}
  </div>

  <!-- Reservations List -->
  <div *ngIf="!loading && !error" class="reservations-list">
    <div *ngFor="let reservation of filteredReservations" class="reservation-card">
      <div class="reservation-header">
        <h3>{{ reservation.facilityName }}</h3>
        <span class="status-badge" [ngClass]="getStatusClass(reservation.status)">
          {{ reservation.status }}
        </span>
      </div>
      
      <div class="reservation-details">
        <div class="detail-item">
          <strong>Date:</strong> {{ formatDate(reservation.reservationDate) }}
        </div>
        <div class="detail-item">
          <strong>Time:</strong> {{ reservation.startTime }} - {{ reservation.endTime }}
        </div>
        <div class="detail-item">
          <strong>Purpose:</strong> {{ reservation.purpose }}
        </div>
        <div class="detail-item" *ngIf="reservation.adminNotes">
          <strong>Admin Notes:</strong> {{ reservation.adminNotes }}
        </div>
        <div class="detail-item">
          <strong>Requested:</strong> {{ formatDate(reservation.createdAt) }}
        </div>
      </div>

      <div class="reservation-actions" *ngIf="canCancel(reservation.status)">
        <button class="btn btn-danger" (click)="cancelReservation(reservation.id)">
          Cancel
        </button>
      </div>
    </div>

    <div *ngIf="filteredReservations.length === 0" class="no-reservations">
      <p>No reservations found.</p>
      <button class="btn btn-primary" (click)="navigateToRequest()">
        Create Your First Reservation
      </button>
    </div>
  </div>
</div>

