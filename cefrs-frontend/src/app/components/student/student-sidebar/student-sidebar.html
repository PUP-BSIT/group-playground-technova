<aside class="sidebar">
  <div class="logo-section">
    <div class="logo-image">
      <img src="assets/logo-white.png" alt="CEFRS Logo" />
    </div>
    <div class="logo-text">CEFRS</div>
  </div>

  <nav class="nav-menu">
    <button class="nav-item" 
      [class.active]="currentView === 'dashboard'" 
      (click)="navigateTo('dashboard')">
      <img src="assets/dashboard.png" alt="Dashboard Icon" class="icon" />
        Dashboard
    </button>
    <button class="nav-item" 
      [class.active]="currentView === 'facilities'" 
      (click)="navigateTo('facilities')">
      <img src="assets/facilities.png" alt="Facilities Icon" class="icon-2" />
        Facilities
    </button>
    <button class="nav-item" 
      [class.active]="currentView === 'equipment'" 
      (click)="navigateTo('equipment')">
      <img src="assets/equipment.png" alt="Equipment Icon" class="icon-2" />
        Equipment
    </button>
    <button class="nav-item" 
      [class.active]="currentView === 'requests'" 
      (click)="navigateTo('requests')">
      <img src="assets/requests.png" alt="Requests Icon" class="icon-2" />
        My Request
    </button>
    <!-- <button class="nav-item" [class.active]="currentView === 'transactions'" (click)="navigateTo('transactions')">Transactions</button> -->
    <button class="nav-item" 
      [class.active]="currentView === 'settings'" 
      (click)="navigateTo('settings')">
      <img src="assets/settings.png" alt="Settings Icon" class="icon-2" />
        Settings
    </button>
  </nav>

  <div class="user-profile">
    <div class="user-details">
      @if (user) {
        <div class="user-info">
          <div class="user-name">{{ user.name }}</div>
          <div class="user-email">{{ user.email }}</div>
        </div>
      } @else {
        <div class="user-info">
          <div class="user-name">Loading...</div>
          <div class="user-email">Please wait...</div>
        </div>
      }
    </div>
    <button class="logout-btn" (click)="logout()" title="Logout">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4M16 17l5-5-5-5M21 12H9"/>
      </svg>
    </button>
  </div>
  
  <!-- Logout Confirmation Modal -->
  @if (showLogoutModal) {
    <div class="modal-overlay" (click)="closeLogoutModal()">
      <div class="modal-content" (click)="$event.stopPropagation()">
        <div class="modal-header">
          <h3>Confirm Logout</h3>
          <button class="close-btn" (click)="closeLogoutModal()">Ã—</button>
        </div>

        <div class="modal-body">
          <p>Are you sure you want to logout?</p>
        </div>

        <div class="modal-footer">
          <button class="btn-confirm" (click)="confirmLogout()">Yes, Logout</button>
          <button class="btn-cancel" (click)="closeLogoutModal()">Cancel</button>
        </div>
      </div>
    </div>
  }
</aside>

