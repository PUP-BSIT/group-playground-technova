<div class="my-transaction-view">
  <div class="page-header">
    <h1>Transaction History</h1>
    <p class="page-subtitle">View all your system activities and transactions</p>
  </div>
  <div class="search-controls">
    <input type="text" placeholder="Search transactions" [(ngModel)]="searchQuery" class="search-input">
  </div>
  <div class="transactions-list" *ngIf="!isLoadingLogs">
    @for (log of filteredLogs; track log.logId) {
      <div class="transaction-card">
        <div class="transaction-header">
          <div class="transaction-info">
            <div class="transaction-action">{{ log.actionType }}</div>
            <div class="transaction-meta">{{ log.tableName }} â€¢ {{ log.createdAt | date:'MMM d, y h:mm a' }}</div>
          </div>
          @if (log.ipAddress) {
            <span class="ip-badge">{{ log.ipAddress }}</span>
          }
        </div>
        <div class="transaction-details">
          @if (log.oldValues) {
            <div class="detail-section">
              <strong>Old Values:</strong>
              <div class="values-box">{{ log.oldValues }}</div>
            </div>
          }
          @if (log.newValues) {
            <div class="detail-section">
              <strong>New Values:</strong>
              <div class="values-box">{{ log.newValues }}</div>
            </div>
          }
        </div>
      </div>
    } @empty {
      <div class="no-data-message">No transaction logs found.</div>
    }
  </div>
  @if (isLoadingLogs) {
    <div class="loading-message">Loading transactions...</div>
  }
</div>

